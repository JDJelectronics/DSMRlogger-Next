<!--
***************************************************************************  
**  Program  : DSMRrestAPI.html, part of DSMRfirmwareAPI
**  Version  : v0.1.5
**
**  Copyright (c) 2020 Willem Aandewiel
**
**  TERMS OF USE: MIT License. See bottom of file.                                                            
***************************************************************************      
-->

<html>
  <head>
    <meta charset="UTF-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1">  
  	<link rel="stylesheet" type="text/css" href="/DSMRindex.css">
  	<style>
			a:link, a:visited { background-color: green; color: white; padding: 8px 15px; width: 200px; text-align: right; text-decoration: none; display: inline-block;}
			a:hover, a:active { background-color: lightgreen;}
			.div1 { float: left;  margin-left: 20px; margin-top: 10px;}
			.div2 { margin-left: 280px; margin-top: 10px;}

  	</style>
    <title>DSMRloggerAPI reference</title>
  </head>
  <body>
    <h1>API Reference</h1>
    <div class='div1'><a href="http://dsmr-api.local/api/v1/dev/info" target="_blank">/api/v1/dev/info</a></div>
    <div class='div2'>Device information in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/dev/time" target="_blank">/api/v1/dev/time</a></div>
    <div class='div2'>Device time (epoch) in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/dev/settings" target="_blank">/api/v1/dev/settings</a></div>
    <div class='div2'>Device settings in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="">/api/v1/dev/settings/{jsonObj}</a></div>
    <div class='div2'>POST/PUT update setting in JSON format<br>
                           test with:
                           </div>
                           <div style="clear: left;">
                           <pre>
    curl -X POST -H "Content-Type: application/json" --data '{"name":"mqtt_broker","value":"hassio.local"}' http://DSMR-API.local/api/v1/dev/settings
                           </pre>
                           </div>
                           
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/hist/hours/asc" target="_blank">/api/v1/hist/hours/{desc|asc}</a></div>
    <div class='div2'>Readings from hours table in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/hist/days/desc" target="_blank">/api/v1/hist/days/{desc|asc}</a></div>
    <div class='div2'>Readings from days table in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/hist/months/asc" target="_blank">/api/v1/hist/months/{desc|asc}</a></div>
    <div class='div2'>Readings from months table in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/sm/info" target="_blank">/api/v1/sm/info</a></div>
    <div class='div2'>Information about the Slimme Meter in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/sm/actual" target="_blank">/api/v1/sm/actual</a></div>
    <div class='div2'>Actual data from Slimme Meter in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/sm/fields" target="_blank">/api/v1/sm/fields</a></div>
    <div class='div2'>All available fields from the Slimme Meter in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="http://dsmr-api.local/api/v1/sm/fields/voltage_l1" target="_blank">/api/v1/sm/fields/{fieldName}</a></div>
    <div class='div2'>Only the requested field from the Slimme Meter in JSON format</div>
    
    <br style="clear: left;">
    <div class='div1'><a href="">/api/v1/sm/telegram</a></div>
    <div class='div2'>raw telegram including all "\r\n" line endings</div>
    
    <br style="clear: left;">
    <br>
    <br>
    JSON format: {"fields":[{"name":"&lt;fieldName&gt;","value":&lt;value&gt;,"unit":"&lt;unit&gt;"}]}
    <br>
    <br>
    <a style=' text-align: center; ' href='/'>terug</a>
  </body>
</html>

  
<!--
***************************************************************************
*
* Permission is hereby granted, free of charge, to any person obtaining a
* copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to permit
* persons to whom the Software is furnished to do so, subject to the
* following conditions:
*
* The above copyright notice and this permission notice shall be included
* in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
* OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
* IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
* CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
* OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR
* THE USE OR OTHER DEALINGS IN THE SOFTWARE.
* 
***************************************************************************
-->
